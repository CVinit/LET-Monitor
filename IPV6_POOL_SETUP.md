# ğŸ“¡ IPv6 åœ°å€æ®µæ‰¹é‡é…ç½®æŒ‡å—

## ğŸ¯ ä½ çš„é…ç½®ä¿¡æ¯

- **IPv6 åœ°å€æ®µ**: `2a0e:6a80:3:38d::/64`
- **ä¸» IP** (SSH ç”¨): `2a0e:6a80:3:38d::`
- **å¯ç”¨åœ°å€æ•°**: 18,446,744,073,709,551,616 ä¸ª
- **ç½‘å¡**: `eth0`

## ğŸš€ å¿«é€Ÿé…ç½®ï¼ˆ3æ­¥ï¼‰

### ç¬¬ä¸€æ­¥ï¼šæ‰¹é‡æ·»åŠ  IPv6 åœ°å€

```bash
# 1. ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x setup_ipv6_pool.sh

# 2. è¿è¡Œé…ç½®è„šæœ¬ï¼ˆéœ€è¦ root æƒé™ï¼‰
sudo bash setup_ipv6_pool.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… æ·»åŠ  20 ä¸ª IPv6 åœ°å€åˆ° eth0
- âœ… ä¿æŒä¸» IP `2a0e:6a80:3:38d::` ä¸å˜ï¼ˆSSH è¿æ¥ç”¨ï¼‰
- âœ… ç”Ÿæˆ `ipv6_rotate.py` é…ç½®
- âœ… å¯é€‰ï¼šåˆ›å»ºå¼€æœºè‡ªåŠ¨é…ç½®

### ç¬¬äºŒæ­¥ï¼šæ›´æ–° ipv6_rotate.py

è„šæœ¬ä¼šè¾“å‡ºç±»ä¼¼è¿™æ ·çš„é…ç½®ï¼š
```python
IPV6_POOL = [
    '2a0e:6a80:3:38d::1',
    '2a0e:6a80:3:38d::2',
    '2a0e:6a80:3:38d::3',
    # ... æ›´å¤šåœ°å€
]
```

**æ–¹å¼ A**ï¼ˆæ¨èï¼‰ï¼šè„šæœ¬å·²è‡ªåŠ¨æ›´æ–°ï¼Œç›´æ¥ä½¿ç”¨

**æ–¹å¼ B**ï¼šæ‰‹åŠ¨å¤åˆ¶é…ç½®
```bash
# æŸ¥çœ‹ç”Ÿæˆçš„é…ç½®
cat /tmp/ipv6_pool.txt

# ç¼–è¾‘ ipv6_rotate.py
nano ipv6_rotate.py
# ç²˜è´´é…ç½®
```

### ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯•è½®æ¢

```bash
# æµ‹è¯• IPv6 è½®æ¢
python3 ipv6_rotate.py

# åº”è¯¥çœ‹åˆ°ï¼š
# å½“å‰ IPv6 åœ°å€: 2a0e:6a80:3:38d::
# é€‰æ‹©æ–°çš„ IPv6 åœ°å€: 2a0e:6a80:3:38d::5
# âœ… æˆåŠŸåˆ‡æ¢åˆ° IPv6: 2a0e:6a80:3:38d::5
#    (ä¸» IP 2a0e:6a80:3:38d:: ä¿æŒä¸å˜ï¼Œç”¨äº SSH)
```

## ğŸ“‹ è¯¦ç»†è¯´æ˜

### åœ°å€åˆ†é…æ–¹æ¡ˆ

```
2a0e:6a80:3:38d::    â† ä¸» IPï¼ˆSSH è¿æ¥ï¼Œæ°¸ä¸è½®æ¢ï¼‰
2a0e:6a80:3:38d::1   â† è½®æ¢ç”¨åœ°å€ 1
2a0e:6a80:3:38d::2   â† è½®æ¢ç”¨åœ°å€ 2
2a0e:6a80:3:38d::3   â† è½®æ¢ç”¨åœ°å€ 3
...
2a0e:6a80:3:38d::14  â† è½®æ¢ç”¨åœ°å€ 20
```

### å·¥ä½œåŸç†

1. **å›ºå®šä¸» IP**
   - ä¸» IP ä¿æŒä¸å˜
   - SSH è¿æ¥ä¸å—å½±å“
   - é»˜è®¤è·¯ç”±ä¸ä½¿ç”¨ä¸» IP

2. **è½®æ¢æœºåˆ¶**
   - Chrome é€šè¿‡è½®æ¢çš„ IP è®¿é—®ç½‘ç«™
   - æ¯æ¬¡é‡å¯æ—¶åˆ‡æ¢åˆ°æ–° IP
   - Cloudflare çœ‹åˆ°çš„æ˜¯ä¸åŒçš„ IP

3. **è·¯ç”±é…ç½®**
   ```bash
   # é»˜è®¤è·¯ç”±ä½¿ç”¨è½®æ¢çš„ IP
   ip -6 route add default via fe80::1 dev eth0 src 2a0e:6a80:3:38d::5
   
   # ä½†ä¸» IP ä»ç„¶å¯ä»¥æ¥æ”¶è¿æ¥ï¼ˆSSHï¼‰
   ```

## âš™ï¸ è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹åœ°å€æ•°é‡

ç¼–è¾‘ `setup_ipv6_pool.sh`:
```bash
NUM_ADDRESSES=50  # æ”¹ä¸º 50 ä¸ªåœ°å€
```

### æ‰‹åŠ¨æ·»åŠ åœ°å€

```bash
# æ·»åŠ å•ä¸ªåœ°å€
sudo ip -6 addr add 2a0e:6a80:3:38d::20/64 dev eth0

# æ‰¹é‡æ·»åŠ 
for i in {1..30}; do
    sudo ip -6 addr add 2a0e:6a80:3:38d::$i/64 dev eth0
done
```

### æŸ¥çœ‹å·²é…ç½®çš„åœ°å€

```bash
# æŸ¥çœ‹æ‰€æœ‰ IPv6 åœ°å€
ip -6 addr show dev eth0

# åªçœ‹ä½ çš„åœ°å€æ®µ
ip -6 addr show dev eth0 | grep "2a0e:6a80:3:38d"
```

### åˆ é™¤åœ°å€

```bash
# åˆ é™¤å•ä¸ªåœ°å€
sudo ip -6 addr del 2a0e:6a80:3:38d::1/64 dev eth0

# åˆ é™¤æ‰€æœ‰ï¼ˆå°å¿ƒï¼ï¼‰
for i in {1..20}; do
    sudo ip -6 addr del 2a0e:6a80:3:38d::$i/64 dev eth0 2>/dev/null
done
```

## ğŸ”„ å¼€æœºè‡ªåŠ¨é…ç½®

### æ–¹æ³• 1: ä½¿ç”¨è„šæœ¬æä¾›çš„é€‰é¡¹

è¿è¡Œ `setup_ipv6_pool.sh` æ—¶é€‰æ‹© `y` åˆ›å»ºå¼€æœºè„šæœ¬ã€‚

### æ–¹æ³• 2: ä½¿ç”¨ netplanï¼ˆUbuntu/Debianï¼‰

ç¼–è¾‘ `/etc/netplan/01-netcfg.yaml`:
```yaml
network:
  version: 2
  ethernets:
    eth0:
      addresses:
        - 2a0e:6a80:3:38d::/64
        - 2a0e:6a80:3:38d::1/64
        - 2a0e:6a80:3:38d::2/64
        - 2a0e:6a80:3:38d::3/64
        # ... æ·»åŠ æ›´å¤š
```

åº”ç”¨é…ç½®ï¼š
```bash
sudo netplan apply
```

### æ–¹æ³• 3: ä½¿ç”¨ systemd service

åˆ›å»º `/etc/systemd/system/ipv6-pool.service`:
```ini
[Unit]
Description=Configure IPv6 Address Pool
After=network-online.target

[Service]
Type=oneshot
ExecStart=/usr/local/bin/setup_ipv6_pool.sh
RemainAfterExit=yes

[Install]
WantedBy=multi-user.target
```

å¯ç”¨ï¼š
```bash
sudo systemctl enable ipv6-pool
sudo systemctl start ipv6-pool
```

## ğŸ§ª éªŒè¯é…ç½®

### æµ‹è¯• 1: æ£€æŸ¥åœ°å€æ˜¯å¦æ·»åŠ 

```bash
# åº”è¯¥çœ‹åˆ°å¤šä¸ªåœ°å€
ip -6 addr show dev eth0 | grep "2a0e:6a80:3:38d" | wc -l
# è¾“å‡ºåº”è¯¥æ˜¯ 21ï¼ˆ20ä¸ªè½®æ¢åœ°å€ + 1ä¸ªä¸»IPï¼‰
```

### æµ‹è¯• 2: æµ‹è¯• SSH è¿æ¥

```bash
# ä»å¦ä¸€å°æœºå™¨è¿æ¥ï¼Œç¡®ä¿ SSH ä»ç„¶å¯ç”¨
ssh user@2a0e:6a80:3:38d::
```

### æµ‹è¯• 3: æµ‹è¯•è½®æ¢

```bash
# ç¬¬ä¸€æ¬¡è½®æ¢
python3 ipv6_rotate.py

# æ£€æŸ¥å½“å‰å‡ºå£ IP
curl -6 https://api64.ipify.org
# åº”è¯¥æ˜¾ç¤ºè½®æ¢åçš„ IP

# ç¬¬äºŒæ¬¡è½®æ¢
python3 ipv6_rotate.py

# å†æ¬¡æ£€æŸ¥
curl -6 https://api64.ipify.org
# åº”è¯¥æ˜¯ä¸åŒçš„ IP
```

### æµ‹è¯• 4: è¿è¡Œç›‘æ§

```bash
# ä½¿ç”¨ Xvfb è¿è¡Œ
./run_with_xvfb.sh 245

# è§‚å¯Ÿæ—¥å¿—
tail -f monitor.log | grep -E "IPv6|Cloudflare"
```

## ğŸ› ï¸ æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: åœ°å€æ·»åŠ å¤±è´¥

```bash
# æ£€æŸ¥æƒé™
sudo -v

# æ£€æŸ¥ç½‘å¡åç§°
ip link show

# æ‰‹åŠ¨æµ‹è¯•æ·»åŠ 
sudo ip -6 addr add 2a0e:6a80:3:38d::99/64 dev eth0
```

### é—®é¢˜ 2: è·¯ç”±ä¸ç”Ÿæ•ˆ

```bash
# æŸ¥çœ‹å½“å‰è·¯ç”±
ip -6 route show

# æŸ¥çœ‹é»˜è®¤ç½‘å…³
ip -6 route | grep default

# æ‰‹åŠ¨è®¾ç½®æµ‹è¯•
sudo ip -6 route add default via fe80::1 dev eth0 src 2a0e:6a80:3:38d::5
```

### é—®é¢˜ 3: SSH æ–­å¼€

**é‡è¦**ï¼šå¦‚æœ SSH æ–­å¼€ï¼Œè¯´æ˜ä¸» IP è¢«ä¿®æ”¹äº†ï¼

é¢„é˜²æ–¹æ³•ï¼š
```bash
# åœ¨ tmux æˆ– screen ä¸­è¿è¡Œ
tmux new -s ipv6
# ç„¶ååœ¨ tmux ä¸­æµ‹è¯•

# æˆ–è®¾ç½®å®šæ—¶ä»»åŠ¡æ¢å¤
echo "*/5 * * * * /sbin/ip -6 route replace default via fe80::1 dev eth0" | crontab -
```

### é—®é¢˜ 4: ç¨‹åºä»ç„¶ç”¨ä¸» IP

æ£€æŸ¥ `ipv6_rotate.py` ä¸­çš„ `MAIN_IP` è®¾ç½®ï¼š
```python
MAIN_IP = '2a0e:6a80:3:38d::'  # ç¡®ä¿æ­£ç¡®
```

## ğŸ“ˆ é«˜çº§ä¼˜åŒ–

### ä¼˜åŒ– 1: æ›´å¤šåœ°å€

```bash
# ä¿®æ”¹ä¸º 100 ä¸ªåœ°å€
sudo bash setup_ipv6_pool.sh
# ä¿®æ”¹ NUM_ADDRESSES=100
```

### ä¼˜åŒ– 2: éšæœºåŒ–åœ°å€

ä¿®æ”¹ `setup_ipv6_pool.sh` ä½¿ç”¨éšæœºåç¼€ï¼š
```bash
# ä½¿ç”¨åå…­è¿›åˆ¶éšæœºæ•°
IPV6_ADDR="${IPV6_PREFIX}::$(printf '%x' $RANDOM)"
```

### ä¼˜åŒ– 3: å®šæœŸè½®æ¢

```bash
# æ·»åŠ  cron ä»»åŠ¡ï¼Œæ¯å°æ—¶è½®æ¢
echo "0 * * * * cd /path/to/Py-LET && python3 ipv6_rotate.py" | crontab -
```

## ğŸ¯ æœ€ä½³å®è·µ

1. **åœ°å€æ•°é‡**: 20-50 ä¸ªè¶³å¤Ÿ
2. **è½®æ¢é¢‘ç‡**: æ¯æ¬¡ Chrome é‡å¯æ—¶ï¼ˆé»˜è®¤æ¯5é¡µï¼‰
3. **ä¸» IP ä¿æŠ¤**: æ°¸è¿œä¸è¦è½®æ¢ä¸» IP
4. **æŒä¹…åŒ–é…ç½®**: ä½¿ç”¨å¼€æœºè„šæœ¬ç¡®ä¿é‡å¯åå¯ç”¨

## âœ… å®Œæˆæ£€æŸ¥æ¸…å•

- [ ] è¿è¡Œ `setup_ipv6_pool.sh` æ·»åŠ åœ°å€
- [ ] æ›´æ–° `ipv6_rotate.py` é…ç½®
- [ ] æµ‹è¯• IPv6 è½®æ¢
- [ ] ç¡®è®¤ SSH ä»ç„¶å¯ç”¨
- [ ] é…ç½®å¼€æœºè‡ªåŠ¨åŠ è½½
- [ ] è¿è¡Œç›‘æ§ç¨‹åºæµ‹è¯•

---

**å®Œæˆåä½ å°†æ‹¥æœ‰**:
- âœ… 20+ ä¸ªå¯è½®æ¢çš„ IPv6 åœ°å€
- âœ… SSH è¿æ¥å§‹ç»ˆå¯ç”¨
- âœ… æœ‰æ•ˆç»•è¿‡ Cloudflare æ£€æµ‹
