我想写一个
我想写一个针对WHCMS云服务商城的库存监控，云产品配置（CPU、硬盘、内存等配置信息）自动获取并存入postgresql数据库中（同时还能够自动更新配置变化），通知服务（库存更新、产品配置变更时发送通知，包含多种通知渠道Telegram/邮箱/discord/bark/notify/企业微信/钉钉等，可借助rocketmq等组件实现稳定不丢消息）的系统。由于需要监控的WHCMS类网站有很多，需要将这些大量的网站先存入数据库。如果通过分析网页元素的方式获取配置信息，还需要针对每一个网站编写一个py程序，并在集中获取程序中依次调用。获取配置信息的方式可以通过轮询pid，WHCMS类网站都可以通过https://域名/cart.php?a=add&pid=100的方式访问产品的配置信息，在数据库中为每个网站配置一个pid_min与pid_max变量，轮询这些pid即可得到全部的在售产品。每次轮询可能都会有产品无库存（网页中没有配置信息）或新上架（原来无库存或无配置信息）或配置信息更改，处理策略为无库存的将困存字段修改为0，新上架则自动添加该产品至数据库，配置信息修改则更新该条数据，并将旧数据写入一个专门存放历史数据的表中。库存监控将监控获取到的全部产品。本项目的核心目的是监控全球所有WHCMS类网站的产品配置信息与库存状态，并且能够在库存更新时第一时间发送通知给目标群体，请给出本项目的编写方案。